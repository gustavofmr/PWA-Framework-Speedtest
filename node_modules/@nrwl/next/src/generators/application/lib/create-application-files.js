"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.createApplicationFiles = void 0;
const path_1 = require("path");
const create_application_files_helpers_1 = require("./create-application-files.helpers");
const devkit_1 = require("@nrwl/devkit");
function createApplicationFiles(host, options) {
    const templateVariables = Object.assign(Object.assign(Object.assign({}, devkit_1.names(options.name)), options), { tmpl: '', offsetFromRoot: devkit_1.offsetFromRoot(options.appProjectRoot), appContent: create_application_files_helpers_1.createAppJsx(options.name), styleContent: create_application_files_helpers_1.createStyleRules(), pageStyleContent: `.page {}`, stylesExt: options.style === 'less' || options.style === 'styl'
            ? options.style
            : 'css' });
    devkit_1.generateFiles(host, path_1.join(__dirname, '../files'), options.appProjectRoot, templateVariables);
    if (options.unitTestRunner === 'none') {
        host.delete(`${options.appProjectRoot}/specs/${options.fileName}.spec.tsx`);
    }
    if (options.styledModule) {
        host.delete(`${options.appProjectRoot}/pages/${options.fileName}.module.${options.style}`);
    }
    if (options.style !== 'styled-components') {
        host.delete(`${options.appProjectRoot}/pages/_document.tsx`);
    }
    if (options.js) {
        host.delete(`${options.appProjectRoot}/index.d.ts`);
        devkit_1.toJS(host);
    }
}
exports.createApplicationFiles = createApplicationFiles;
//# sourceMappingURL=create-application-files.js.map