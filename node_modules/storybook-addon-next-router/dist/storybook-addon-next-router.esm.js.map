{"version":3,"file":"storybook-addon-next-router.esm.js","sources":["../src/index.tsx"],"sourcesContent":["import { action } from '@storybook/addon-actions';\nimport { makeDecorator } from '@storybook/addons';\nimport React from 'react';\nimport Router, { NextRouter } from 'next/router';\nimport { RouterContext } from 'next/dist/next-server/lib/router-context';\n\nexport const withNextRouter = makeDecorator({\n  name: 'NextRouter',\n  parameterName: 'nextRouter',\n  wrapper(getStory, context, settings) {\n    Router.router = {\n      route: '/',\n      pathname: '/',\n      query: {},\n      asPath: '/',\n      push(...args) {\n        action('nextRouter.push')(...args);\n        return Promise.resolve(true);\n      },\n      replace(...args) {\n        action('nextRouter.replace')(...args);\n        return Promise.resolve(true);\n      },\n      reload(...args) {\n        action('nextRouter.reload')(...args);\n      },\n      back(...args) {\n        action('nextRouter.back')(...args);\n      },\n      prefetch(...args) {\n        action('nextRouter.prefetch')(...args);\n        return Promise.resolve();\n      },\n      beforePopState(...args) {\n        action('nextRouter.beforePopState')(...args);\n      },\n      events: {\n        on(...args) {\n          action('nextRouter.events.on')(...args);\n        },\n        off(...args) {\n          action('nextRouter.events.off')(...args);\n        },\n        emit(...args) {\n          action('nextRouter.events.emit')(...args);\n        },\n      },\n      isFallback: false,\n      ...settings.options,\n      ...settings.parameters,\n    } as typeof Router.router;\n\n    return (\n      <RouterContext.Provider value={Router.router as NextRouter}>\n        {getStory(context)}\n      </RouterContext.Provider>\n    );\n  },\n});\n"],"names":["withNextRouter","makeDecorator","name","parameterName","wrapper","getStory","context","settings","Router","router","route","pathname","query","asPath","push","action","Promise","resolve","replace","reload","back","prefetch","beforePopState","events","on","off","emit","isFallback","options","parameters","React","RouterContext","Provider","value"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;IAMaA,cAAc,gBAAGC,aAAa,CAAC;AAC1CC,EAAAA,IAAI,EAAE,YADoC;AAE1CC,EAAAA,aAAa,EAAE,YAF2B;AAG1CC,EAAAA,OAH0C,mBAGlCC,QAHkC,EAGxBC,OAHwB,EAGfC,QAHe;AAIxCC,IAAAA,MAAM,CAACC,MAAP;AACEC,MAAAA,KAAK,EAAE,GADT;AAEEC,MAAAA,QAAQ,EAAE,GAFZ;AAGEC,MAAAA,KAAK,EAAE,EAHT;AAIEC,MAAAA,MAAM,EAAE,GAJV;AAKEC,MAAAA,IALF;AAMIC,QAAAA,MAAM,CAAC,iBAAD,CAAN;AACA,eAAOC,OAAO,CAACC,OAAR,CAAgB,IAAhB,CAAP;AACD,OARH;AASEC,MAAAA,OATF;AAUIH,QAAAA,MAAM,CAAC,oBAAD,CAAN;AACA,eAAOC,OAAO,CAACC,OAAR,CAAgB,IAAhB,CAAP;AACD,OAZH;AAaEE,MAAAA,MAbF;AAcIJ,QAAAA,MAAM,CAAC,mBAAD,CAAN;AACD,OAfH;AAgBEK,MAAAA,IAhBF;AAiBIL,QAAAA,MAAM,CAAC,iBAAD,CAAN;AACD,OAlBH;AAmBEM,MAAAA,QAnBF;AAoBIN,QAAAA,MAAM,CAAC,qBAAD,CAAN;AACA,eAAOC,OAAO,CAACC,OAAR,EAAP;AACD,OAtBH;AAuBEK,MAAAA,cAvBF;AAwBIP,QAAAA,MAAM,CAAC,2BAAD,CAAN;AACD,OAzBH;AA0BEQ,MAAAA,MAAM,EAAE;AACNC,QAAAA,EADM;AAEJT,UAAAA,MAAM,CAAC,sBAAD,CAAN;AACD,SAHK;AAINU,QAAAA,GAJM;AAKJV,UAAAA,MAAM,CAAC,uBAAD,CAAN;AACD,SANK;AAONW,QAAAA,IAPM;AAQJX,UAAAA,MAAM,CAAC,wBAAD,CAAN;AACD;AATK,OA1BV;AAqCEY,MAAAA,UAAU,EAAE;AArCd,OAsCKpB,QAAQ,CAACqB,OAtCd,EAuCKrB,QAAQ,CAACsB,UAvCd;AA0CA,WACEC,mBAAA,CAACC,aAAa,CAACC,QAAf;AAAwBC,MAAAA,KAAK,EAAEzB,MAAM,CAACC;KAAtC,EACGJ,QAAQ,CAACC,OAAD,CADX,CADF;AAKD;AAnDyC,CAAD;;;;"}